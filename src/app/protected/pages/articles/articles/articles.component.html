<div  fxLayout="row wrap"  fxLayoutAlign="center start"fxFlex="100"  (scroll)="onScroll($event)" class="scroll">

    <div  fxLayout="row wrap"  fxLayoutAlign="center center" fxFlex.xs="100" fxFlex="90"  >

        <!-- start menu search -->
        <div fxLayout="row wrap" fxLayoutAlign="center center" class="font whiteframe mt-20" fxFlex.xs="97" fxFlex.sm="80" fxFlex="50" style="padding: 10px; margin-bottom: 40px;">

            <form  [formGroup]="myForm" fxLayout="row wrap" fxLayoutAlign="center center" fxFlex="80" style="margin-top: 13px;"  > 

                <mat-form-field  appearance="outline" fxFlex="96" class="font fs-4" >
                    <input type="text" matInput  placeholder="Buscar artículo"  name="itemSearch" formControlName="itemSearch" >
                    <mat-icon matSuffix style="transform:scale(1.7); color: rgb(37, 150, 190); margin-right: 20px;">search</mat-icon>
                </mat-form-field>
            </form>
                <!-- start select buttons -->
                <div fxLayout="row wrap"  fxLayoutAlign="center center"  fxFlex.xs="20"   >
                    <div class="mainIcon" (click)="addArticle()" >
                        <span class="material-symbols-outlined notranslate"> add </span>
                    </div>
                </div>  
            <!-- end select buttons -->
        </div>
        <!-- end menu search -->

        <!-- start no items -->
        <div fxLayout="row wrap"  fxLayoutAlign="center center" fxFlex="100" *ngIf="noMatches" >
            
                <div fxLayout="row wrap" fxLayoutAlign="start center"  fxFlex.xs="90" fxFlex.sm="80" fxFlex="40"  class="fs-4 whiteframe " style="border-radius: 10px; padding: 15px; color: white; background-color: black; margin-bottom: 20px; margin-top: 30px; height: 60px; border-left: 10px solid red; box-shadow: 2px 2px 5px 0px rgba(0,0,0,0.75);
                -webkit-box-shadow: 2px 2px 5px 0px rgba(0,0,0,0.75);
                -moz-box-shadow: 2px 2px 5px 0px rgba(0,0,0,0.75);">
                    <span class="material-icons" style="color: white;"> error </span>
                    <span class="font fs-4" style="color: white; text-align: center; margin-left: 20px;">Sin coincidencias...</span>
                </div>
        </div>
        <!-- end no items -->

        <div fxLayout="row wrap"  fxLayoutAlign="center center"  fxFlex="100" *ngIf="spinner" style="margin-top: 25px;">
            <mat-spinner diameter="48"></mat-spinner>
        </div>

        <!-- start suggested -->
        <div fxLayout="row wrap"  fxLayoutAlign.xs="space-between center" fxLayoutAlign="center center"  fxFlex.xs="99" fxFlex="80" *ngIf="mostrarSugerencias" style="padding: 20px; margin-top: 30px;"  >
                            
            <div fxLayout="row wrap"  fxLayoutAlign.xs="start center" fxLayoutAlign="space-between center" fxFlex="100" class="font mb-20 mt-10 " *ngFor="let item of suggested , index as i" >
                
                <div fxLayout="row wrap" fxLayoutAlign="space-between center"  fxFlex="98"  class="fs-4 boxSelection" >

                    <div fxLayout="row wrap" fxLayoutAlign="space-between center"  fxFlex="70" >
                        <span  style="cursor: pointer; text-align: start; "  fxFlex="90" (click)="getItem(item)" >
                            {{ item.descripcionLarga | capitalizeFirstLetter}}
                        &nbsp; <b> {{ item.precioBrutoFinal | currency:'$':'symbol':'1.2-2'}}</b>
                        </span>
                    </div>    
                </div>

            </div>

        </div> 
        <!-- end suggested -->

        <!-- start card product -->
        <div fxLayout="row wrap"  fxLayoutAlign="space-between center" style=" margin-top: 30px;  padding: 10px" fxFlex.xs="97" fxFlex.sm="97"fxFlex="60"class="whiteframe"  *ngIf="isArticleFounded">

        <div  fxLayout="row wrap"  fxLayoutAlign="space-around center" fxFlex="100" style="background-color: rgb(37, 150, 190); color: white; height: 40px; border-radius: 3px; padding: 5px;">
            <span  class="font fs-4" fxFlex="70" > Código: {{articleFounded.codigoInterno }} </span>
            <span  class="font fs-4" fxFlex="30" style="text-align: end;" > Stock: {{articleFounded.cantidadStock }} </span>
        
            </div>
    
        <span  class="font fs-4 mt-20" fxFlex="100" > {{articleFounded.descripcionLarga | capitalizeFirstLetter }}</span>

        <div  fxLayout="row wrap"  fxLayoutAlign="space-between center" fxFlex="100" style="margin-top: 20px;">
            <span  class="font fs-4" fxFlex="50" > Lista de precios: {{articleFounded.idListaPrecio}}  </span>
        
        </div>

        <div fxLayout="row wrap" fxLayoutAlign="end center" fxFlex="100" style="margin-top: 25px;">
            <div class="icon mr-10" (click)="deleteArticle(articleFounded)" >
                <span class="material-symbols-outlined notranslate cursor" style="color: red;"> delete </span>
            </div>
            
            <div class="icon mr-10"  (click)="editArticle(articleFounded)">
                <span class="material-symbols-outlined notranslate cursor" style="color: rgb(255, 176, 57);"> edit </span>
            </div>

            <div class="icon"  (click)="close()">
                <span class="material-symbols-outlined notranslate cursor" > close </span>
            </div>
        </div>


        <div fxLayout="row wrap" fxLayoutAlign="space-between center" fxFlex="100" class="font fs-4 mt-10" >
            <span fxFlex="50" fxLayoutAlign="start center" > <b>Precio</b> </span>
            <!-- <span fxFlex="50" fxLayoutAlign="end"><b> {{article.ventaTotal | currency:'$':'symbol':'1.2-2' }}</b></span> -->
            <span fxFlex="50" fxLayoutAlign="end"><b> {{articleFounded.precioBrutoFinal | currency:'$':'symbol':'1.2-2'}}</b></span>
        </div>    

        
        </div>
        <!-- end card product -->


        <ng-container *ngIf="phone">

             <!-- start cards -->
            <div fxLayout="row wrap"  fxLayoutAlign="space-between center" style=" margin-top: 30px;  padding: 10px" fxFlex="97" class="whiteframe"  *ngIf="arrArticles.length !== 0">

                <div fxLayout="row wrap"  fxLayoutAlign="space-between center" style=" margin-top: 30px;  padding: 10px" fxFlex="97" class="whiteframe"  *ngFor="let article of arrArticles">

                    <div  fxLayout="row wrap"  fxLayoutAlign="space-around center" fxFlex="100" style="background-color: rgb(37, 150, 190); color: white; height: 40px; border-radius: 3px; padding: 5px;">
                        <span  class="font fs-4" fxFlex="70" > Código: {{article.codigoInterno }} </span>
                        <span  class="font fs-4" fxFlex="30" style="text-align: end;" > Stock: {{article.cantidadStock }} </span>
                    
                    </div>
                
                    <span  class="font fs-4 mt-20" fxFlex="100" > {{article.descripcionLarga | capitalizeFirstLetter }}</span>

                    <div  fxLayout="row wrap"  fxLayoutAlign="space-between center" fxFlex="100" style="margin-top: 20px;">
                        <span  class="font fs-4" fxFlex="50" > Lista de precios: {{article.idListaPrecio}}  </span>
                    
                    </div>

                    <div fxLayout="row wrap" fxLayoutAlign="end center" fxFlex="100" style="margin-top: 25px;">
                        <div class="icon mr-10" (click)="deleteArticle(article)" >
                            <span class="material-symbols-outlined notranslate cursor" style="color: red;"> delete </span>
                        </div>
                        
                        <div class="icon"  (click)="editArticle(article)">
                            <span class="material-symbols-outlined notranslate cursor" style="color: rgb(255, 176, 57);"> edit </span>
                        </div>
                    
                    </div>


                    <div fxLayout="row wrap" fxLayoutAlign="space-between center" fxFlex="100" class="font fs-4 mt-10" >
                        <span fxFlex="50" fxLayoutAlign="start center" > <b>Precio</b> </span>
                        <!-- <span fxFlex="50" fxLayoutAlign="end"><b> {{article.ventaTotal | currency:'$':'symbol':'1.2-2' }}</b></span> -->
                        <span fxFlex="50" fxLayoutAlign="end"><b> {{article.precioBrutoFinal | currency:'$':'symbol':'1.2-2'}}</b></span>
                    </div>    

                    
                </div>
            </div>
            <!-- end cards -->


        </ng-container>

        <ng-container *ngIf="!phone">
        
            <div class="example-container mat-elevation-z8 font mt-30" fxFlex="97">
                    
                <table mat-table [dataSource]="dataTableActive" style="width: 100%;">
            
                    <!-- action Column -->
                    <ng-container matColumnDef="action"  >
                    <th mat-header-cell *matHeaderCellDef style="padding: 0px;">Accion</th>
                    <td mat-cell *matCellDef="let element" > 
                        <div style="width: 80%; display: flex;  justify-content: space-around;" >
                                <div class="icon" (click)="editArticle(element)">
                                    <span class="material-symbols-outlined notranslate cursor" style="color: rgb(255, 176, 57);"> edit </span>
                                </div>
                                <div class="icon" (click)="deleteArticle(element)">
                                    <span class="material-symbols-outlined notranslate cursor" style="color: red"> delete </span>
                                </div>
                        </div>
                    </td>
                </ng-container>
                    
                        
                    <!-- Name Column -->
                    <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef > Nombre </th>
                        <td mat-cell *matCellDef="let element" (click)="editArticle(element)" > {{element.descripcionLarga}} </td>
                    </ng-container>
                
                    <!-- Stock Column -->
                    <ng-container matColumnDef="stock" >
                        <th mat-header-cell *matHeaderCellDef> Stock </th>
                        <td mat-cell *matCellDef="let element" (click)="editArticle(element)" > {{element.cantidadStock}} </td>
                    </ng-container>
                
                    <!-- Price Column -->
                    <ng-container matColumnDef="price" >
                        <th mat-header-cell *matHeaderCellDef> Precio </th>
                        <td mat-cell *matCellDef="let element" (click)="editArticle(element)" > {{element.precioBrutoFinal | decimalRound}} </td>
                    </ng-container>
            
                    <!-- Comment Column -->
                    <ng-container matColumnDef="iva">
                        <th mat-header-cell *matHeaderCellDef> Iva </th>
                        <td mat-cell *matCellDef="let element" (click)="editArticle(element)" style="font-size: 0.6em;"> <span style="text-align: start;"> {{element.iva}} </span> </td>
                    </ng-container>
            
                
                    <tr mat-header-row *matHeaderRowDef="displayedColumns "></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            
            </div>

            <mat-paginator #paginator
            class="demo-paginator"
            (page)="handlePageEvent($event)"
            [length]="length"
            [pageSize]="pageSize"
            [disabled]="disabled"
            [showFirstLastButtons]="showFirstLastButtons"
            [pageSizeOptions]="showPageSizeOptions ? pageSizeOptions : []"
            [hidePageSize]="hidePageSize"
            [pageIndex]="pageIndex"
            aria-label="Select page" style="margin-top: 30px;">
            </mat-paginator>

        </ng-container>
    
        <!-- <div *ngIf="isLoading" style="margin-top: 30px;">
            <mat-spinner diameter="80"></mat-spinner>
        </div> -->


    </div>
</div>